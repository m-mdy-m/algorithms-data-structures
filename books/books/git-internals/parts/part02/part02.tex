\part{Architecture}
\label{part:architecture}

\begin{partintro}
How is a 20-year-old codebase organized? Where does functionality live? How do pieces connect? This part maps the terrain before we dive into details.
\end{partintro}

\chapter{Codebase Structure}
% Directory layout and purpose
% builtin/ - porcelain commands
% core/ - fundamental operations  
% compat/ - platform abstraction
% contrib/ - extensions
% Build system architecture
% How code is modularized

\chapter{Command Dispatch System}
% How Git handles 160+ commands
% Execution path from shell to implementation
% Command registration
% Built-in vs external commands
% Alias resolution
% Extension mechanism

\chapter{Platform Abstraction}
% Cross-platform C challenges
% POSIX vs Windows
% Abstraction layers
% Conditional compilation
% Wrapper functions
% Platform-specific implementations
% Endianness handling

\chapter{The Entry Point and Initialization}
% Program startup
% Environment setup
% Repository discovery
% Configuration loading
% Working directory setup
% Error handling initialization