\part{The Codebase: Structure and Organization}
\label{part:architecture}

\begin{partintro}
Before reading code, you need a map. Where are things? How is functionality divided? What are the major subsystems?

This part gives you that map.
\end{partintro}

\chapter{Source Tree Layout}
% Directory structure
% builtin/ core/ compat/ etc
% What goes where and why
% Build system basics

\chapter{The Entry Point}
% Command dispatch system
% How 160+ commands are handled

\chapter{Core vs Porcelain}
% Plumbing vs porcelain commands
% Low-level building blocks
% High-level user interface
% Why the separation matters

\chapter{Module Dependencies}
% How components interact
% Object database, refs, working tree
% Index/staging area
% Config and hooks

\chapter{Platform Abstraction}
% Cross-platform C is hard
% compat/ layer
% Windows, macOS, Linux differences
% Why macros everywhere