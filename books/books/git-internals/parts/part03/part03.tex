\part{Memory and Resource Management}
\label{part:memory}

\begin{partintro}
Manual memory management in C. How Git allocates, tracks, and frees memory without leaking or crashing. The unglamorous foundation that everything else relies on.
\end{partintro}

\chapter{Memory Allocation Patterns}
% xmalloc, xrealloc, xcalloc wrappers
% Why wrapper functions
% Out-of-memory handling
% Allocation failure strategy
% Memory zeroing practices
% Alignment considerations

\chapter{Memory Pools and Arenas}
% Pool allocators
% Arena allocation
% Bulk allocation patterns
% When and why
% Lifetime management
% Performance implications

\chapter{Reference Counting}
% Where ref counting is used
% Implementation patterns
% Avoiding cycles
% Release mechanisms
% Thread safety considerations

\chapter{Buffer Management}
% strbuf: dynamic strings
% Implementation details
% Growth strategies
% Use cases throughout codebase
% strvec: string vectors
% string_list: sorted string arrays
% When to use which

\chapter{Object Cache}
% Parsed object cache
% Cache invalidation
% Memory pressure handling
% LRU considerations
% Cache size tuning

\chapter{Memory Mapping}
% mmap usage in Git
% Pack file mapping
% Large file handling
% Platform differences
% When mmap wins
% When it doesn't